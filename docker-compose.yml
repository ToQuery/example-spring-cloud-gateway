version: '3'
services:
  uaa:
    image: toquery/example-spring-cloud-gateway-uua:latest
    container_name: uaa
    expose:
      - "8090"
    ports:
      - "8090:8090"
  resource:
    image: toquery/example-spring-cloud-gateway-resource:latest
    container_name: resource
    expose:
      - "9000"
    environment:
      - --spring.profiles.active=sso
  gateway:
    image: toquery/example-spring-cloud-gateway:latest
    container_name: gateway
    expose:
      - "8080"
    environment:
      - --spring.profiles.active=sso
    ports:
      - "8080:8080"
    depends_on:
      - resource
      - uaa
